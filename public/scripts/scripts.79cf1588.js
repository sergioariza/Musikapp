$(document).ready(function(){"use strict";function a(a){b.geocode({address:a},function(a,b){if(b==google.maps.GeocoderStatus.OK){$("#map-none").hide(),$("#map-canvas").show();var d=new google.maps.LatLng(a[0].geometry.location.k,a[0].geometry.location.D),e={zoom:16,center:d};c=new google.maps.Map(document.getElementById("map-canvas"),e),c.setCenter(a[0].geometry.location);new google.maps.Marker({map:c,position:a[0].geometry.location})}else $("#map-canvas").hide(),$("#map-none").show()})}var b,c;$(document).on("click","#map-address-btn",function(c){c.preventDefault(),b=new google.maps.Geocoder;var d=$("#location-address").val();a(d)})}),angular.module("musikappApp",["ngAnimate","ngAria","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html"}).when("/news",{templateUrl:"views/news.html",controller:"NewsCtrl",controllerAs:"news"}).when("/shows",{templateUrl:"views/shows.html",controller:"ShowsCtrl",controllerAs:"shows"}).when("/videos",{templateUrl:"views/videos.html",controller:"VideosCtrl",controllerAs:"videos"}).otherwise({redirectTo:"/"})}]),angular.module("musikappApp").factory("UserServices",["$http",function(a){"use strict";return{logout:function(){return a.post("/logout")},getMaxId:function(a){var b=-1;return $.each(a,function(a,c){c.id>b&&(b=c.id)}),b},verifyToken:function(b){var c={token:b};return a.post("/verifyToken",c)}}}]),angular.module("musikappApp").factory("NewsServices",["$window","$http",function(a,b){"use strict";return{getAllNews:function(a){return b.get("/news/"+a)},updateNews:function(c){var d={user:c.user,id:c.id,title:c.title,body:c.body,date:c.date,photoURL:c.photoURL,token:a.sessionStorage.token};return b.put("/news",d)},createNews:function(c){var d={user:c.user,id:c.id,title:c.title,body:c.body,date:c.date,photoURL:c.photoURL,token:a.sessionStorage.token};return b.post("/news",d)},removeNews:function(a,c){return b["delete"]("/news/"+a+"/"+c)}}}]),angular.module("musikappApp").factory("ShowsServices",["$http",function(a){"use strict";return{getAllShows:function(b){return a.get("/shows/"+b)},updateShows:function(b){var c={user:b.user,id:b.id,title:b.title,body:b.body,bandsWith:b.bandsWith,place:b.place,dateShow:b.dateShow,hourShow:b.hourShow,datePublished:b.datePublished,linkGoogleMaps:b.linkGoogleMaps,photoURL:b.photoURL,token:$window.sessionStorage.token};return a.put("/shows",c)},createShows:function(b){var c={user:b.user,id:b.id,title:b.title,body:b.body,bandsWith:b.bandsWith,place:b.place,dateShow:b.dateShow,hourShow:b.hourShow,datePublished:b.datePublished,linkGoogleMaps:b.linkGoogleMaps,photoURL:b.photoURL,token:$window.sessionStorage.token};return a.post("/shows",c)},removeShows:function(b,c){return a["delete"]("/shows/"+b+"/"+c)}}}]),angular.module("musikappApp").factory("VideosServices",["$http",function(a){"use strict";return{getAllVideos:function(b){return a.get("/videos/"+b)},updateVideos:function(b){var c={user:b.user,id:b.id,title:b.title,description:b.description,youtubeURL:b.youtubeURL,token:$window.sessionStorage.token};return a.put("/videos",c)},createVideos:function(b){var c={user:b.user,id:b.id,title:b.title,description:b.description,youtubeURL:b.youtubeURL,token:$window.sessionStorage.token};return a.post("/videos",c)},removeVideos:function(b,c){return a["delete"]("/videos/"+b+"/"+c)}}}]),angular.module("musikappApp").controller("MainCtrl",["$scope","$http","$window","UserServices",function(a,b,c,d){$(".nav").find(".active").removeClass("active"),$(".nav .home").addClass("active"),a.logout=function(){d.logout().success(function(a){delete c.sessionStorage.token,delete c.sessionStorage.user,c.location="/"}).error(function(a,b){console.log(a),console.log(b)})},a.$on("$routeChangeStart",function(b,e){void 0==c.sessionStorage.user||void 0==c.sessionStorage.token?a.logout():d.verifyToken(c.sessionStorage.token).success(function(b){b.success||a.logout()}).error(function(b,c){a.logout()})})}]),angular.module("musikappApp").controller("NewsCtrl",["$scope","$http","$window","NewsServices","UserServices",function(a,b,c,d,e){function f(){a.edit?d.updateNews(a.newsItem):(a.news.push({id:a.newsItem.id,title:a.newsItem.title,body:a.newsItem.body,date:a.newsItem.date,photoURL:a.newsItem.photoURL}),d.createNews(a.newsItem)),a.newsItem.id=e.getMaxId(a.news)+1,a.newsItem.title="",a.newsItem.body="",a.newsItem.date="",a.newsItem.photoURL=""}$(".nav").find(".active").removeClass("active"),$(".nav .news").addClass("active"),a.news=[],d.getAllNews(c.sessionStorage.user).success(function(b){a.news=b,a.newsItem={user:c.sessionStorage.user,id:e.getMaxId(a.news)+1,title:"",body:"",date:"",photoURL:""}}).error(function(a,b){e.logout().success(function(a){delete c.sessionStorage.token,delete c.sessionStorage.user,c.location="/"}).error(function(a,b){console.log(a),console.log(b)})}),a.edit=!1,a.editItem=function(b){if(void 0==b)a.newsItem.id=e.getMaxId(a.news)+1,a.newsItem.title="",a.newsItem.body="",a.newsItem.date="",a.newsItem.photoURL="",a.edit=!1;else{a.newsItem.id=b;for(var c=0;c<a.news.length&&a.news[c].id!=a.newsItem.id;)c++;a.newsItem.title=a.news[c].title,a.newsItem.body=a.news[c].body,a.newsItem.date=a.news[c].date,a.newsItem.photoURL=a.news[c].photoURL,a.edit=!0}},a.saveItem=function(){if(a.edit){for(var b=!1,c=0;c<a.news.length;c++)if(a.news[c].id==a.newsItem.id){a.news[c].title=a.newsItem.title,a.news[c].body=a.newsItem.body,a.news[c].date=a.newsItem.date,a.news[c].photoURL=a.newsItem.photoURL,b=!0;break}b&&f()}else f()},a.removeItem=function(b,c){var e=a.news.indexOf(b);-1!==e&&(a.news.splice(e,1),d.removeNews(a.newsItem.user,c))}}]),angular.module("musikappApp").controller("ShowsCtrl",["$scope","$http","$window","ShowsServices","UserServices",function(a,b,c,d,e){function f(){a.edit?d.updateShows(a.showsItem):(a.news.push({id:a.showsItem.id,title:a.showsItem.title,body:a.showsItem.body,photoURL:a.showsItem.photoURL,bandsWith:a.showsItem.bandsWith,place:a.showsItem.place,dateShow:a.showsItem.dateShow,hourShow:a.showsItem.hourShow,datePublished:a.showsItem.datePublished,linkGoogleMaps:a.showsItem.linkGoogleMaps}),d.createShows(a.showsItem)),a.showsItem.id=e.getMaxId(a.shows)+1,a.showsItem.title="",a.showsItem.body="",a.showsItem.photoURL="",a.showsItem.bandsWith="",a.showsItem.place="",a.showsItem.dateShow="",a.showsItem.hourShow="",a.showsItem.datePublished="",a.showsItem.linkGoogleMaps=""}$(".nav").find(".active").removeClass("active"),$(".nav .shows").addClass("active"),a.shows=[],d.getAllShows(c.sessionStorage.user).success(function(b){a.shows=b,a.showsItem={user:c.sessionStorage.user,id:e.getMaxId(a.shows)+1,title:"",body:"",bandsWith:"",place:"",dateShow:"",hourShow:"",datePublished:"",linkGoogleMaps:"",photoURL:""}}).error(function(a,b){e.logout().success(function(a){delete c.sessionStorage.token,delete c.sessionStorage.user,c.location="/"}).error(function(a,b){console.log(a),console.log(b)})}),a.edit=!1,a.editItem=function(b){if(void 0==b)a.showsItem.id=e.getMaxId(a.shows)+1,a.showsItem.title="",a.showsItem.body="",a.showsItem.bandsWith="",a.showsItem.place="",a.showsItem.dateShow="",a.showsItem.hourShow="",a.showsItem.datePublished="",a.showsItem.linkGoogleMaps="",a.showsItem.photoURL="",a.edit=!1;else{a.showsItem.id=b;for(var c=0;c<a.shows.length&&a.shows[c].id!=a.showsItem.id;)c++;a.showsItem.title=a.shows[c].title,a.showsItem.body=a.shows[c].body,a.showsItem.bandsWith=a.shows[c].bandsWith,a.showsItem.place=a.shows[c].place,a.showsItem.dateShow=a.shows[c].dateShow,a.showsItem.hourShow=a.shows[c].hourShow,a.showsItem.datePublished=a.shows[c].datePublished,a.showsItem.linkGoogleMaps=a.shows[c].linkGoogleMaps,a.showsItem.photoURL=a.shows[c].photoURL,a.edit=!0,$("#location-address").val(a.showsItem.linkGoogleMaps),$("#map-address-btn").click()}},a.saveItem=function(){if(a.edit){for(var b=!1,c=0;c<a.shows.length;c++)if(a.shows[c].id==a.showsItem.id){a.shows[c].title=a.showsItem.title,a.shows[c].body=a.showsItem.body,a.shows[c].bandsWith=a.showsItem.bandsWith,a.shows[c].place=a.showsItem.place,a.shows[c].dateShow=a.showsItem.dateShow,a.shows[c].hourShow=a.showsItem.hourShow,a.shows[c].datePublished=a.showsItem.datePublished,a.shows[c].linkGoogleMaps=a.showsItem.linkGoogleMaps,a.shows[c].photoURL=a.showsItem.photoURL,b=!0;break}b&&f()}else f()},a.removeItem=function(b,c){var e=a.shows.indexOf(b);-1!==e&&(a.shows.splice(e,1),d.removeShows(a.showsItem.user,c))}}]),angular.module("musikappApp").controller("VideosCtrl",["$scope","$http","$window","VideosServices","UserServices",function(a,b,c,d,e){function f(){a.edit?d.updateVideos(a.videosItem):(a.news.push({id:a.showsItem.id,title:a.showsItem.title,description:a.showsItem.description,youtubeURL:a.showsItem.youtubeURL}),d.createVideos(a.videosItem)),a.videosItem.id=e.getMaxId(a.videos)+1,a.videosItem.title="",a.videosItem.description="",a.videosItem.youtubeURL=""}$(".nav").find(".active").removeClass("active"),$(".nav .videos").addClass("active"),a.videos=[],d.getAllVideos(c.sessionStorage.user).success(function(b){a.videos=b,a.videosItem={user:c.sessionStorage.user,id:e.getMaxId(a.videos)+1,title:"",description:"",youtubeURL:""}}).error(function(a,b){e.logout().success(function(a){delete c.sessionStorage.token,delete c.sessionStorage.user,c.location="/"}).error(function(a,b){console.log(a),console.log(b)})}),a.edit=!1,a.editItem=function(b){if(void 0==b)a.videosItem.id=e.getMaxId(a.videos)+1,a.videosItem.title="",a.videosItem.description="",a.videosItem.youtubeURL="",a.edit=!1;else{a.videosItem.id=b;for(var c=0;c<a.videos.length&&a.videos[c].id!=a.videosItem.id;)c++;a.videosItem.title=a.videos[c].title,a.videosItem.description=a.videos[c].description,a.videosItem.youtubeURL=a.videos[c].youtubeURL,a.edit=!0}},a.saveItem=function(){if(a.edit){for(var b=!1,c=0;c<a.shows.length;c++)if(a.videos[c].id==a.videosItem.id){a.videos[c].title=a.videosItem.title,a.videos[c].description=a.videosItem.description,a.videos[c].youtubeURL=a.videosItem.youtubeURL,b=!0;break}b&&f()}else f()},a.removeItem=function(b,c){var e=a.videos.indexOf(b);-1!==e&&(a.videos.splice(e,1),d.removeVideos(a.videosItem.user,c))}}]),angular.module("musikappApp").run(["$templateCache",function(a){"use strict";a.put("views/main.html",'<!-- <div class="jumbotron">\n  <h1>\'Allo, \'Allo!</h1>\n  <p class="lead">\n    <img src="images/yeoman.png" alt="I\'m Yeoman"><br>\n    Always a pleasure scaffolding your apps.\n  </p>\n  <p><a class="btn btn-lg btn-success" ng-href="#/">Splendid!<span class="glyphicon glyphicon-ok"></span></a></p>\n</div>\n\n<div class="marketing">\n  <h4>HTML5 Boilerplate</h4>\n  <p>\n    HTML5 Boilerplate is a professional front-end template for building fast, robust, and adaptable web apps or sites.\n  </p>\n\n  <h4>Angular</h4>\n  <p>\n    AngularJS is a toolset for building the framework most suited to your application development.\n  </p>\n\n  <h4>Karma</h4>\n  <p>Spectacular Test Runner for JavaScript.</p>\n</div> --> <div class="jumbotron"> <h1>Bienvenido a Musikapp</h1> <p>Con la plataforma Musikapp podrás actualizar las noticias, conciertos y vídeos de la aplicación móvil que tengas asociada a esta cuenta.</p> <p> A continuación, se muestra abajo un resumen de las noticias, conciertos y vídeos que actualmente tienes publicados en la aplicación móvil. Recuerda que para añadir o modificar contenido existente, puedes navegar por las opciones que se muestran en la barra superior de esta página. </p> </div>'),a.put("views/news.html",'<div class="jumbotron"> <h2>Noticias</h2> <p>Esta es la sección de noticias de tu aplicación móvil. En la siguiente tabla se muestran las noticias que actualmente los usuarios de tu aplicación móvil pueden leer:</p> <table class="table table-striped table-bordered"> <thead> <tr> <th width="32%">Título</th> <th width="50%">Descripción</th> <th width="18%">Fecha</th> <th width="40">¿Foto?</th> <th width="104">Editar</th> <th width="70">Eliminar</th> </tr> </thead> <tbody> <tr class="news-row" ng-repeat="x in news"> <td>{{ x.title }}</td> <td>{{ x.body }}</td> <td>{{ x.date }}</td> <td> <span ng-if="x.photoURL != \'\'">Sí</span> <span ng-if="x.photoURL == \'\'">No</span> </td> <td width="110"> <button class="btn btn-warning" type="button" ng-click="editItem(x.id)"> <span class="glyphicon glyphicon-pencil"></span>Editar </button> </td> <td width="110"> <button class="btn btn-danger" type="button" ng-click="removeItem(x, x.id)"> <span class="glyphicon glyphicon-remove-circle"></span>Borrar </button> </td> </tr> </tbody> </table> <hr> <button class="btn btn-success" ng-click="editItem()"> <span class="glyphicon glyphicon-user"></span> Publicar nueva noticia </button> <hr> <h3 ng-hide="edit">Publicar nueva noticia:</h3> <h3 ng-show="edit">Editar noticia:</h3> <form class="form-horizontal" name="Form" novalidate> <div class="form-group"> <label class="col-xs-2">Título:</label> <div class="col-xs-10"> <input class="form-control" type="text" ng-model="newsItem.title" placeholder="Título" required> </div> </div> <div class="form-group"> <label class="col-xs-2">Cuerpo:</label> <div class="col-xs-10"> <textarea class="span6 form-control" type="text" rows="5" ng-model="newsItem.body" placeholder="Descripción de la noticia" required></textarea> </div> </div> <div class="form-group"> <label class="col-xs-2">Fecha:</label> <div class="col-xs-6"> <input class="form-control" type="text" ng-model="newsItem.date" placeholder="DD-MM-AAAA hh:mm" ng-pattern="/^(0?[1-9]|[12][0-9]|3[01])[\\/\\-](0?[1-9]|1[012])[\\/\\-]\\d{4} ([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/" required> </div> </div> <div class="form-group"> <label class="col-xs-2">URL de foto:</label> <div class="col-xs-10"> <input type="text" class="form-control" ng-model="newsItem.photoURL" placeholder="URL de foto"> </div> </div> <div class="form-group"> <label class="col-xs-2">Preview de foto:</label> <div class="col-xs-10"> <img class="img-responsive" src="http://placehold.it/850x300&text=No+hay+fotografía+seleccionada" ng-if="newsItem.photoURL == \'\'"> <img class="img-responsive" ng-src="{{ newsItem.photoURL }}" ng-if="newsItem.photoURL != \'\'" onerror="this.style.display=\'none\'"> </div> </div> <hr> <button class="btn btn-success" ng-click="saveItem()" ng-disabled="Form.$invalid" ng-class="{\'disabledButton\': Form.$invalid}"> <span class="glyphicon glyphicon-save"></span> Guardar cambios </button> </form> </div>'),a.put("views/shows.html",'<div class="jumbotron"> <h2>Conciertos</h2> <p>Esta es la sección de conciertos de tu aplicación móvil. En la siguiente tabla se muestran los conciertos que actualmente los usuarios de tu aplicación móvil pueden encontrar:</p> <table class="table table-striped table-bordered"> <thead> <tr> <th>Título</th> <th>Info</th> <th width="100">Bandas</th> <th>Lugar</th> <th width="95">Fecha</th> <th width="50">Hora</th> <th>Publicación</th> <th>¿Google Map?</th> <th>¿Cartel?</th> <th width="104">Editar</th> <th width="70">Eliminar</th> </tr> </thead> <tbody> <tr class="shows-row" ng-repeat="x in shows"> <td>{{ x.title }}</td> <td>{{ x.body }}</td> <td>{{ x.bandsWith }}</td> <td>{{ x.place }}</td> <td>{{ x.dateShow }}</td> <td>{{ x.hourShow }}</td> <td>{{ x.datePublished }}</td> <td> <span ng-if="x.linkGoogleMaps != \'\'">Sí</span> <span ng-if="x.linkGoogleMaps == \'\'">No</span> </td> <td> <span ng-if="x.photoURL != \'\'">Sí</span> <span ng-if="x.photoURL == \'\'">No</span> </td> <td width="104"> <button class="btn btn-warning" ng-click="editItem(x.id)"> <span class="glyphicon glyphicon-pencil"></span>Editar </button> </td> <td width="70"> <button class="btn btn-danger" type="button" ng-click="removeItem(x, x.id)"> <span class="glyphicon glyphicon-remove-circle"></span>Borrar </button> </td> </tr> </tbody> </table> <hr> <button class="btn btn-success" ng-click="editItem()"> <span class="glyphicon glyphicon-user"></span> Publicar nuevo concierto </button> <hr> <h3 ng-hide="edit">Publicar nuevo concierto:</h3> <h3 ng-show="edit">Editar concierto:</h3> <form class="form-horizontal" name="Form" novalidate> <div class="form-group"> <label class="col-xs-2">Título:</label> <div class="col-xs-10"> <input class="form-control" type="text" ng-model="showsItem.title" placeholder="Título" required> </div> </div> <div class="form-group"> <label class="col-xs-2">Info:</label> <div class="col-xs-10"> <textarea class="form-control" rows="5" ng-model="showsItem.body" placeholder="Información del concierto" required></textarea> </div> </div> <div class="form-group"> <label class="col-xs-2">Bandas:</label> <div class="col-xs-10"> <input class="form-control" type="text" ng-model="showsItem.bandsWith" placeholder="Bandas invitadas o que comparten cartel" required> </div> </div> <div class="form-group"> <label class="col-xs-2">Lugar:</label> <div class="col-xs-10"> <input class="form-control" type="text" ng-model="showsItem.place" placeholder="Lugar del concierto" required> </div> </div> <div class="form-group"> <label class="col-xs-2 col-sm-2">Fecha:</label> <div class="col-xs-4 col-sm-3"> <input class="form-control" type="text" ng-model="showsItem.dateShow" placeholder="DD-MM-AAAA" ng-pattern="/^(0?[1-9]|[12][0-9]|3[01])[\\/\\-](0?[1-9]|1[012])[\\/\\-]\\d{4}$/" required> </div> <label class="col-xs-1 col-xs-offset-1 col-sm-1 col-sm-offset-3">Hora:</label> <div class="col-xs-4 col-sm-3"> <input class="form-control" type="text" ng-model="showsItem.hourShow" placeholder="hh:mm" ng-pattern="/^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/" required> </div> </div> <div class="form-group"> <label class="col-xs-2 col-sm-2">Publicado:</label> <div class="col-xs-10 col-sm-4"> <input class="form-control" type="text" ng-model="showsItem.datePublished" placeholder="DD-MM-AAAA hh:mm" ng-pattern="/^(0?[1-9]|[12][0-9]|3[01])[\\/\\-](0?[1-9]|1[012])[\\/\\-]\\d{4} ([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/" required> </div> </div> <div class="form-group"> <label class="col-xs-2 col-sm-2">URL de Google Maps:</label> <div class="col-xs-10 col-sm-8"> <input id="location-address" type="text" class="form-control" ng-model="showsItem.linkGoogleMaps" placeholder="Enlace de Google Maps"> </div> <div class="col-xs-4 col-sm-2 pull-right"> <a id="map-address-btn" class="btn btn-primary full-width">Buscar</a> </div> </div> <div class="form-group"> <label class="col-xs-2">Preview de Google Maps:</label> <div class="col-xs-10"> <img id="map-none" class="img-responsive" style="max-width: 100%; height: 400px" src="http://placehold.it/950x400&text=No+hay+mapa+seleccionado"> <div id="map-canvas" style="max-width: 100%; height: 400px; display: none"></div> </div> </div> <div class="form-group"> <label class="col-xs-2">URL de foto:</label> <div class="col-xs-10"> <input type="text" class="form-control" ng-model="showsItem.photoURL" placeholder="URL de foto"> </div> </div> <div class="form-group"> <label class="col-xs-2">Preview de foto:</label> <div class="col-xs-10"> <img class="img-responsive" src="http://placehold.it/850x300&text=No+hay+fotografía+seleccionada" ng-if="showsItem.photoURL == \'\'"> <img class="img-responsive" ng-src="{{ showsItem.photoURL }}" ng-if="showsItem.photoURL != \'\'" onerror="this.style.display=\'none\'"> </div> </div> </form> <hr> <button class="btn btn-success" ng-click="saveItem()" ng-disabled="Form.$invalid" ng-class="{\'disabledButton\': Form.$invalid}"> <span class="glyphicon glyphicon-save"></span> Guardar cambios </button> </div>'),a.put("views/videos.html",'<div class="jumbotron"> <h2>Vídeos</h2> <p>Esta es la sección de vídeos de tu aplicación móvil. En la siguiente tabla se muestran los vídeos que actualmente los usuarios de tu aplicación móvil pueden ver:</p> <table class="table table-striped table-bordered"> <thead> <tr> <th>Título</th> <th>Info</th> <th>Enlace a Youtube</th> <th>Editar</th> <th>Eliminar</th> </tr> </thead> <tbody> <tr class="videos-row" ng-repeat="x in videos"> <td>{{ x.title }}</td> <td>{{ x.description }}</td> <td>{{ x.youtubeURL }}</td> <td width="110"> <button class="btn btn-warning" type="button" ng-click="editItem(x.id)"> <span class="glyphicon glyphicon-pencil"></span>Editar </button> </td> <td width="110"> <button class="btn btn-danger" type="button" ng-click="removeItem(x, x.id)"> <span class="glyphicon glyphicon-remove-circle"></span>Borrar </button> </td> </tr> </tbody> </table> <hr> <button class="btn btn-success" ng-click="editItem(\'new\')"> <span class="glyphicon glyphicon-user"></span> Publicar nuevo vídeo </button> <hr> <h3 ng-hide="edit">Publicar nuevo vídeo:</h3> <h3 ng-show="edit">Editar vídeo:</h3> <form class="form-horizontal"> <div class="form-group"> <label class="col-xs-2">Título:</label> <div class="col-xs-10"> <input type="text" class="form-control" ng-model="title" placeholder="Título"> </div> </div> <div class="form-group"> <label class="col-xs-2">Info:</label> <div class="col-xs-10"> <textarea class="form-control" rows="5" ng-model="description" placeholder="Información del vídeo"></textarea> </div> </div> <div class="form-group"> <label class="col-xs-2">Youtube URL:</label> <div class="col-xs-10"> <input type="text" class="form-control" ng-change="changedYoutubeURLEvent()" ng-model="youtubeURL" placeholder="Enlace a vídeo de Youtube"> </div> </div> <div class="form-group"> <label class="col-xs-2">Preview de vídeo:</label> <div class="col-xs-10"> <img class="img-responsive" style="max-width: 100%" src="http://placehold.it/850x300&text=No+hay+vídeo+seleccionado" ng-if="!isValidYoutubeURLLink"> <div my-youtube code="code" ng-if="isValidYoutubeURLLink"></div> </div> </div> </form> <hr> <button class="btn btn-success" ng-click="saveItem()" ng-disabled="incomplete"> <span class="glyphicon glyphicon-save"></span> Guardar cambios </button> </div>')}]);